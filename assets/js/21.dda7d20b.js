(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{196:function(e,t,r){"use strict";r.r(t);var a=r(0),s=Object(a.a)({},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"不能在-count-內計算數值"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#不能在-count-內計算數值","aria-hidden":"true"}},[e._v("#")]),e._v(" 不能在 count 內計算數值")]),e._v(" "),r("h2",{attrs:{id:"使用情境"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#使用情境","aria-hidden":"true"}},[e._v("#")]),e._v(" 使用情境")]),e._v(" "),r("p",[e._v("count 只能計算已知的數值，對於不存在的數值會有問題，當 apply count 有數值時可以正常運作，而 destroy count 為 0 時就會 fail。")]),e._v(" "),r("h2",{attrs:{id:"example"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#example","aria-hidden":"true"}},[e._v("#")]),e._v(" Example")]),e._v(" "),r("ul",[r("li",[e._v("main.tf")])]),e._v(" "),r("div",{staticClass:"language-terraform extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('resource "aws_security_group_rule" "ingress_with_source_security_group_id" {\n  count = "${length(var.web_ingress_source_security_group_id)}"\n}\n')])])]),r("ul",[r("li",[e._v("main.auto.tfvars")])]),e._v(" "),r("div",{staticClass:"language-terraform extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('web_ingress_source_security_group_id = [\n  {\n    rule                     = "http-80-tcp"\n    source_security_group_id = "${var.alb_sg_id}"\n  },\n  {\n    rule                     = "https-443-tcp"\n    source_security_group_id = "${var.alb_sg_id}"\n  }\n]\n')])])]),r("h2",{attrs:{id:"issess"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#issess","aria-hidden":"true"}},[e._v("#")]),e._v(" Issess")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("aws_security_group_rule.ingress_with_source_security_group_id: value of ‘count’ cannot be computed\n")])])]),r("h2",{attrs:{id:"resolve"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#resolve","aria-hidden":"true"}},[e._v("#")]),e._v(" Resolve")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/hashicorp/terraform/issues/12570",target:"_blank",rel:"noopener noreferrer"}},[e._v("terraform modules value of count cannot be computed #12570"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://shazi.info/terraform-%E8%8C%B6%E5%8C%85%E3%80%8Cvalue-of-count-cannot-be-computed%E3%80%8D%E8%A7%A3%E6%B3%95/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Terraform 茶包「value of count cannot be computed」解法"),r("OutboundLink")],1)])])])},[],!1,null,null,null);t.default=s.exports}}]);